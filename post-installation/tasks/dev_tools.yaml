---
- name: Copy RedShift configuration file
  copy:
    src: ./defaults/.config/redshift.conf
    dest: /home/{{ USERNAME }}/.config/
    owner: "{{ USERNAME }}"
    mode: 0644

- name: Install apt apps - curl, git, VIm, Terminator, RedShift, htop
  apt:
    name:
      - curl
      - git
      - vim
      - terminator
      - redshift
      - redshift-gtk
      - htop
      - httpstat

- name: Configure Terminator
  copy:
    src: ./defaults/.config/terminator/config
    dest: "/home/{{ USERNAME }}/.config/terminator/"
    owner: "{{ USERNAME }}"
    mode: 0644

- name: Configure git
  block:
    - name: Configure git with default user name
      git_config:
        name: "user.name"
        value: "{{ GIT_USER_NAME }}"
        scope: global
        state: present
      become_user: "{{ USERNAME }}"

    - name: Configure git with default user email
      git_config:
        name: "user.email"
        value: "{{ GIT_USER_EMAIL }}"
        scope: global
        state: present
      become_user: "{{ USERNAME }}"

- name: Install snap apps (classic) - VS Code
  snap:
    name:
      - code
    classic: yes

- name: Install VS Code Sync Extension
  shell:
    cmd: /snap/bin/code --install-extension Shan.code-settings-sync
  become_user: "{{ USERNAME }}"

- name: Install snap apps - GitKraken, Postman
  snap:
    name:
      - gitkraken
      - postman
      - dbeaver-ce
      - httpstat
    classic: no
